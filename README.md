# Node.js
Node.js를 공부하면서 기억해야 할 내용들을 정리한다.
<br>
<br>

## 1. 핵심 개념 이해

### 1) Node.js란?
노드 공식 사이트에서는 노드를 다음과 같이 설명하고 있다.
>Node.js는 Chrome V8 Javascript 엔진으로 빌드된 Javascript 런타임이다.
>> 서버 vs 런타임 <br>
>> * 서버 : 네트워크를 통해 클라이언트에 정보나 서비스를 제공하는 컴퓨터 또는 프로그램
>> * 런타임 : 특정 언어로 만든 프로그램들을 실행할 수 있는 환경

<br>

### 2) 자바스크립트 런타임
노드를 통해 다양한 자바스크립트 애플리케이션을 실행할 수 있지만, 노드는 <strong>서버 애플리케이션</strong>을 실행하는데 제일 많이 사용한다.<br>
기존에는 자바스크립트 프로그램을 웹 브라우저 위에서만 실행할 수 있었다.(브라우저가 자바스크립트 런타임을 내장하고 있다.) <br>
브라우저 외의 환경에서 자바스크립트를 실행하기 위한 여러 시도가 있었으나 자바스크립트 실행 속도 문제 때문에 실패했다. <br>
2008년 구글이 V8 엔진을 사용하여 크롬을 출시했는데 다른 자바스크립트 엔진과 달리 매우 빨랐고, V8 엔진 기반의 노드프로젝트가 만들어졌다.
<br>
<br>

### 3) 노드의 특성
#### (1) 이벤트 기반 : 이벤트가 발생할 때 미리 지정해 둔 작업을 수행하는 방식
이벤트 기반 시스템에서는 특정 이벤트가 발생할 때 무엇을 할지 미리 등록해두어야 한다.(event listener에 callback 함수를 등록한다고 표현한다.)<br>
노드는 이벤트 기반 방식으로 동작하므로, 이벤트가 발생하면 이벤트 리스너에 등록해둔 콜백 함수를 호출한다. 발생한 이벤트가 없거나 발생했던 이벤트를 다 처리하면, 노드는 다음 이벤트가 발생할 때 까지 대기한다. <br>
* 이벤트 루프 : 이벤트 발생 시 호출할 콜백함수들을 관리하고, 호출된 콜백 함수의 실행 순서를 결정하는 역할을 하다. 노드가 종료될 때 까지 이벤트 처리를 위한 작업을 반복한다.
```
function first() {
    second();
    console.log('첫 번째');
}

function second() {
    thrid();
    console.log('두 번째');
}

function third() {
    console.log('세 번째');
}

first();
```
first 함수가 제일 번저 호출되고, 그 안의 second 함수가 호출된 뒤, 마지막으로 third 함수가 호출된다. 실행은 호출된 순서와 반대이므로 콘솔에는 세 번째, 두 번째, 첫 번째 순서로 찍히게 된다. (호출 스택을 그려보자.) <br>
호출스택에는 기본적으로 anonymous 함수가 전역 컨텍스트로 깔려있다.(컨텍스트 = 함수가 호출되었을 때 생성되는 환경) 자바스크립트 코드는 실행시 기본적으로 전역 컨텍스트 안에서 돌아간다.<br>
함수는 실행되는 동안 호출 스택에 머물러 있다가 실행이 완료되면 호출스택에서 지워진다. anonymoust 컨텍스트까지 모두 실행이 완료디면 호출스택이 비게 된다.

* 백그라운드 : setTimeout 같은 타이머나 이벤트 리스너들이 대기하는 곳이다. 여러 작업이 동시에 실행될 수 있다.
* 태스크 큐 : 이벤트 발생 후, 백그라운드에서는 태스크 큐로 타이머나 이벤트 리스너의 콜백함수를 보낸다.
```
function run() {
    console.log('3초 후 실행');
}
console.log('시작');
setTimeout(run, 3000);
console.log('끝');
```
먼저 전역 컨텍스트인 anonymous가 호출스택에 들어간다.그 뒤 setTimeout이 호출 스택에 들어간다.<br>
setTimeout이 실행되면 타이머와 함께 run 콜백을 백그라운드로 보내고, setTimeout은 호출스택에서 빠진다. 백그라운드에서는 3초를 센 후 run 함수를 태스크 큐로 보낸다. 이벤트 루프는 호출 스택이 비어있으면 태스크 큐에서 함수를 하나씩 가져와 호출스택에 넣고 실행한다.<br>
콘솔에는 시작, 끝, 3초 후 실행 순서로 찍히게 된다.

#### (2) 논 블로킹 I/O
논 블로킹이란 이전 작업이 완료될 때 까지 대기하지 않고 다음 작업을 수행함을 뜻한다. 자바스크립트 코드는 동시에 실행될 수 없지만 I/O 작업은 동시에 처리될 수 있다.<br>
노드는 I/O 작업을 백그라운드로 넘겨 동시에 처리한다. 동시에 처리될 수 있는 작업은 최대한 묶어서 백그라운드로 넘겨야 시간을 절약할 수 있다.

#### (3) 싱글 스레드
<br>
<br>

## 2. 노드를 서버로 사용할 때의 특성
<br>
<br>

## 3. 노드의 기능
[REPL 사용](https://github.com/hsh0340/nodejs-study/tree/main/3.%20%EB%85%B8%EB%93%9C%EC%9D%98%20%EA%B8%B0%EB%8A%A5/REPL%20%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0)<br>
JS 파일 실행하기<br>
모듈로 만들기<br>
....<br>
(작성중)








